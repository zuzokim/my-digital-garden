---
{"dg-publish":true,"permalink":"/pages//","created":"2024-10-23"}
---







https://tech.kakao.com/posts/652


좋은 서비스를 만들려면 경험해봐야한다.
codebuddy
지식 통합 검색
사내툴 개발



13:00 - 13:20 6. **접근성 작업을 도와주는 ESlint Plugin 개발기** (최종선)  
    팀 내에서 접근성 개선을 진행하면서 접근성 위반 사항을 더 쉽게 알 수 있는 방법에 대해 고민한 스토리를 기반으로, 궁금증에 대한 해결 방안으로 ‘Unit test’나 ‘story book’을 돌리지 않아도 접근성 위반 사항을 알려주는 ESLint 플러그인을 개발한 경험을 공유합니다.




너무 많은 가이드라인 어떻게 외우지
어떻게 동료에게 알려주지
기존 코드는 어떻게 고치지?

jsx-a11y eslint-plugin

emotion error 못잡음
그라운드 룰이업음..

웹 접근성이랑
왜 eslint인가?
룰 구현
한계


비장애인과 똑같이 웹사이트 정보를 제공

스크린리더, 웹표준 가이드 준수

haspopup="popup" 
인라인에는 인라인만


스토리북 jest 접근성 확인 테스팅

단점 : 특정환경에 올려야함

새롭게 작성되는 코드 + 기존 코드 모두 해야하기 떄문에

대안 -> 기존의 코드도 , 새롭게 작성하는 와중에 고칠 수 있다

eslint로 에러문구 따라하면됨 에러문서도 잘 되어있음, 간과하기 쉬운 것도 잡아줌

린트 까먹더라도 빌드시 돌려서 에러 잡음 

1. 가이드에 해당하는 룰이 없는 경우
2. emption/styled 지원 안됨

개발환겨 ㅇ바꾸기엔 너무 큰 리소스 

플러그인 확장
-> inline 자식으로 inlin만 올수잇다

순회하면서 inline인지 검사, 자식도 검사순회, 

1. ast 선택자 소스코드 트리형태에서 엘리먼트 가져옴
2. inline인지 검사
3. inline이라면 자식도 순회  
4. block을 만나면 error 생성 -> tiptap 이랑 비슷

context.report (error)


한계
imporion
jsx엘리먼트 가져올때 문제 -> 엘리먼트로 변환, 다시 되돌려주는 로직

가이드에 없는 룰 + emotion 지원되는 플러그인 확장



린트가 무거워지진 안을지 성능 이슈

eslint 최적화 내부적으로 지원이됨...
캐싱 전략 도입 예정




13:20 - 13:40 7. **Node.js(Next.js) 애플리케이션 모니터링을 위한 메모리 인사이트** (김준태)  
    Node.js 애플리케이션의 메모리 지표와 Native API를 사용한 데이터 측정 방식을 소개합니다. 메모리 릭이 의심스러운 지표, Node.js(V8) 메모리 구조 이해, 메모리 관련 모니터링 지표 이해, 그리고 Node.js(V8) 내부 메모리 데이터 측정 과정을 공유합니다.



1. 메모리 릭 지표 발견

동일 버전 라이브러리, 로직 작성 통일, 개발방식도 동일
근데 하나만 메모리 증가
지표 명확한 검증 필요 의심됨
납득가능한 모니터링 가이드

2. node.js v8 메모리 구조와 데이터
프로메테우스 process.memoryUsage

heap Used 영역 실제 사용중잉 영역

external, arraybutter 큰 이미지 동영상 파일 io가 많을때 주의

heap total -heap used 유기적으로변화
rss -> 증가 감소 세가직 같이 이루어짐

3. 모니터링 지표 이해하기
4. 내부 메모리 데이터 측정 과정

node,js
memoryUsage

next middleware 


2. **선물하기 프론트엔드 성능 개선기** (문지호)  
    선물하기 프론트엔드 성능을 개선하면서 고민 했던 것들을 이야기하며, 그리고 성능 개선을 위해 적용한 기술들에 대해 공유합니다.




필요성 
빠른 로딩 시각적 안정성 이탈률감소
검색엔진 높은 순위

성능개선 이후 결과 -> 매출과 관련

서비스및환경소개

앵귤러 CSR 웹팩
웹뷰 
페이지 갯수가 많은 대규모

treeshaking
페이지 단위 지연로딩 유저에게 필요한것만 제공
가벼운 스크립트

CDN 가까운 리전
캐싱
http: 2.0 빠르게 다운로드


가려운 라이브러리
이미ㅣㅈ 최적화
가상스크롤

성능개선 기법
1. 이미지 최적화
모든 페이지는 아님 - '카테고리 팝업' 22mb 절감
커머스 특성상 이미지 많음 => 그러므로 효과 업

프레임워크단에서 지원해주는경우가 많음

1.적절한 이미지 사이즈로 변환 -> 픽셀수 줄어 파일크기 줄임

2.png .. 포맷을 webp로 변환 인터넷에서 로딩시간이 줄어듦 구글에서 만든
브라우저 버전 지원 ua분석해서 지원되면 webp로 제공

3.노출되지 않은 영역에 대한 이미지 intersection observer

 LCP에 로드를 앞당기고자 fetchPriority, preconnect 사용해 단축
preconnect - 이미지 CDN에 적용 : 연결, DNS, 핸드쉐이크~~ 과정을 통해야하는데 얘를 미리 해줌
fetchPriority - high로 우선순위 부여 - 자원간 경쟁에서 우위를 부여 
최초 뷰포트에 노출, 뷰포트 외부 우선순위 low, 뷰포트에 다 우선순위가 높으면 느려지니까 LCP대상인 애들에 우선순위 high를 줌

2. 폰트 포맷 WOFF2 적용  1.8메가 절감
유저로컬에 먼저 적용,-> woff2 ->woff

3. inhdex.html 프레임워크 스크립트 -> api 호출 -> 로직 실행 후 브라우저 띄워줌
프레임워크에 의존적이지 않게 api호출하게 병렬적으로 실행. 
프레임워크 범위 밖을 벗어나는거기 때무에 주의가 필요.
index.html window객체에 캐싱하고 이후에 일회성으로 프레임워크에서 사용


4. 스크립트 최적화
이미지 로드보다 더 많은 리소스가 필요함
라이브러리간 내부 디펜던시 중복 탐지로 절감 -> 패키지 매니저에서 중복을 잡아주긴 하지만 안된다면 중복해결 수동으로 명령어로 해결가능. (안정성때문에 안해줌)


direct 디펜던시 package.json
postInstall로 자동화


5. 코드스플리팅 고도화
불필요한 코드 
공통 라이브러리를 웹팩 아날라이저 
초기 다운되는 번들에 포함됨
여러 서비스에 옵션값을 세팅하고, 초기세팅시 라이브러리 번들을 다 가져오게 됨 
앵귤러, 유틸 라이브러리

유틸 라이브러리 - 단일파일로 번들하면 불필요한
rollup preserved modules -> 폴더단위로 가져와서 쪼개서 들고 올 수 있음 밀당ui에서도?

앵귤러 라이브러리 - secondary 엔트리포인트 관련있는 단위로 잘게 분리

다이나믹 임포트 - 적재적소에 필요한 코드


14:20 - 14:40 9. **React to PDF : 좌충우돌 PDF 생성 기능 개발기** (최서영)  
    리액트 컴포넌트를 PDF 파일로 생성할 수 있게 하는 기능을 개발. 파일 생성 시 페이지 단위로 픽셀을 맞추기 위해 다양한 스타일링 기술을 활용했으며, 그 과정에서 겪은 어려움과 해결 방법을 공유합니다.


라이브러리 사용 못한 이유
라이브러리 컴포넌트를 꼭 사용해야해서
기존 코드를 다시한번 맞게 재작성해야됨
라이브러리 의존성 - 커스터마이징, 이중작업, 디자인 제약
테스트 어려움


렌더링 완료 - html2canvas 캔버스로 변환 이미지화 - jspdf pdf파일 생성

자동페이지 분할기능이 없음
요소 짤리거나 푸터에 가려짐

좌표값에 따라 다른 커모넌트의 children으로 넘겨주기 어려움


html2pdf

pagebreak mode: avoid

메인테이닐이 안됨, 이미지 짤림



분할화면

요구사항의 재해석 
-> padding으로 간격 넓힘

acoid-all 페이지 중간에서 분할되지않도록 방지
특정 사이즈를 넘으면 다음페이지로

**css**
**break-indse: avoid; 문서의 분할 제어 인쇄**
**mediaqyery : print**

다음페이지 넘기는 padding -> insertBefore


렌더시에 분할로직 실행
특정위치에 padding 추가
완료되면 header, footer, 넘버링을 absolute로 추가해 마무리


뷰포트를 기준으로 픽셀값 가져오기, 이게 푸터 영역을 넘치면 다음페이지로 넘김

단, visibility : hidden 해서 다시 height 계산할때 판별할수잇음

이미지 분할 -> pdf로 만듬

DX

모든 콘텐츠 fetch가 됐는지 state로 관리했음
유지보수 어려움

useIsFetching react-qeury로 현재 몇개가 페칭중인지 갯수 확인
0이라면 다 됨것임


콘텐츠가 추가되어도 상태 추가 안하고 이걸로 해결 가능


pdf 생성시에만 동작해야하는 코드
domLayout 'print'
domLayout 'autoheight'

pdf mode useContext


이미지 처리 과정 -> 외부 라이브러리에 의존하지 않음
추가 요구사항 -> pdf외에 이미지 파일로 다운로드 해야한다 기능


3. **서비스 UX는 내가 직접 지킨다 : 웹 이미지 뷰어 ‘포커스’ 개발 및 적용기** (송가람, 한상미)  
    관심과 우선순위를 받기 어려운 UX 관련 과제를 시작하고 성공적으로 적용하는 과정에서 직면한 여러 문제와 이를 극복하며 배운 경험을 공유합니다. UX 과제를 추진하는 데 필요한 노하우와 성공 사례를 소개 합니다.


svelte anime.js ts


각 플랫폼마다 다른 이미지뷰어를 사용하고 이엇고
통합


사용자 관점 문제점
개발자 관점 문제점

외부 라이브러리 의존성photoswipe lightbox ...
핀지 춤 .. 드래그 등 사용성이 가다로움 
중복 개발 유지보수 비용 증가


기능조직의 장점을활용

기능 구체화 과정
리서치 설문조사 기능 피쳐리스트업.... 우선순위


Ux란 기능을 사용할때 어떤 게 진행되고 있는지 피드백주고,
예상가능하게 하는 일


가상 슬라이드 
메모리에만 저장, 돔에는 보이는 것만??

핀치 : 두 점사이의 거리, 중앙점
이미지 중신, 핀치 중심, 거리를 계산해서 얼만큼 멀어지는지에 따라 스케일링 가능


1 -> 2 100 -> 200이면 100의 핀치거리가 필요해 불편함
가중치 -> 동일한 확대 비율로 보여주게함

연속해서 핀지줌할때 동일한 배율로 스케일링됨


더블탭, 임의의 상수값
더블탭의 중심좌표로 스케일링


축소하면 화면에서 벗어남 -> 스크린 벗어나는걸 알수잇으니 그다음에 축소하면 다시 중앙으로 오게 함

제스처 충돌

디바운스 상태관리

더블탭 탭
스와이프 후에느 탭이 발생하지 않도록

핀치와 스와이프는 핀치 스와이프


터치 임계점
이벤트 발생 횟수에 따르 이동거리 계산해서 상용

터치 이후에 좀 기다려야 스크롤이 동작하게 되는걸 볼수잇음

dx
api

option 라이브러리 동작 infinity
메서드 - 개발자가 기능을 직접 실행
정밀하게 제어하기 위해 이벤트 -> callback을 원하는 액션을 적용할 수 있게 오픈
css -> 다야한 서비스에 적용하기 위해 커스텀 가능하게 css variables 오버라이드

버저닝도


사용자 관점
인터랙션 디자인 - 사용자와 앱의 상호작용 효율 개선
모멘텀 스크롤의 부재 - 확대 후 스크롤 easing하면서 이동 기사스크랩 이미지 탐색이 어렵다 .. 오..
트랙패드 줌의 부재 : 모바일 중심 -> t섬세한 확대 축소가 안됨
개발자 관점
확장성 - 
이미 확장된 걸 축소해서 사용하게 됨..
플러그인 시스템을 도입 = 필요한걸 사용자가 직접 추가하 ㄹ수 있게 하는게 더 좋겟다


악마는 디테일에 있다 제대로 하려면 많은 노력이 필요하다
프론트엔드... 



-
13:00 - 13:40 **TDD로 앞서가는 프론트엔드 : 디자인, API 없이도 개발을 시작하는 방법** (김선호)

14;00 - 14:40 선물하기 FE 성능 개선기

15:00 - 15:40 웹 이미지 뷰어 포커스 송가람

16:00 - 16:20 LLM 서빙 양정석
16:00 - 16:40 웹 성능 게이트 키퍼 파루스 정현규


17:00 - 17:20 5. **웹 카카오톡의 상태 관리 : 바닐라 상태 관리 모듈과 리액트의 조화** (이기웅)  
    웹카카오톡 개발 시 상태 관리 로직은 vanilla JS로, 화면 구성은 React로 분리하여 개발한 경험을 소개합니다. 리액트 생태계의 일반적인 상태 관리 도구(zustand, redux 등)를 사용하지 않고 vanilla JS로 직접 개발한 이유와, 그 과정에서 마주한 장단점을 공유합니다.

웹톡

기획과 디자인이 미완성

UI 변경사항을 예측할수없었고 유연하게 대응하기 위함

미즈니스모듈 구성 계층
프로바이더
로직
state emitter
application

to REact


복잡한 부분 logics 
객체간 협업
객체 증가 -> 관리의 부담

복잡한 객체간 관계, 생존주기 관리가 어렯다

import하거나 자체적으로 생성하거나...

계속 의존성을 정의해야함
수정에 손이 많이감

inversify.js 의존성 주입 형태로 제공
의존성의 구현제에 의존하지 않게 됨
인터페이스만 동일하면 됨
유닛테스트도 쉬움


container 


결과만 return하는데, store 형태로
리액트에 붙이기 위해서 외부의 상태를 사용하게 위해

tearnig ??현상
18 -> concurrency 렌더링
상태 불일치 모든걸 다 다시 렌더하지 않기 때문에
sueSyncExternalStore 
subscribe, getSnapchot으로 동기화함


리액트 상태관리 도구

부분상태 조회 흉내내기
부분만 상태가 업데이트되면 그 부분만 렌더되길 기대
selector pattern
부분상태가 변경되었을 때 렌더하게 하도록 되어잇음
리덕스 useSelector

useSyncExternalStoreWithSelector
부분상태 조회
전체 스토어 상태가 바뀌었는지가 아니라 부분조회 로직을 제공

외부 스토어 연동하면서 구독하고자하는 부분상태만 감지





뷰 영역만 분리된 비즈니스로직 우선 개발을 위한 마닐라 모듈 구현


역시나..
불변성 객체 관리
객체간 의존성 관리 정책
뷰 로직 분리를 통한 유연한 구조 변경 대응 가능

-> 리액트 코드는 리팩토링 안해도됏음..오....
아 이거.. 화면,,, 미리보기....너무 필요







17:20 - 17:40 3년차 개발자, 10년차 에디터 모던화 안드로이드 정상록
17:00 - 17:20 ios 앱 이미지 에디터 개발기 최철웅